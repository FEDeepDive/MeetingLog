## ë³´ê²½

### useContext

**Context APIë€ ?**

ë¦¬ì•¡íŠ¸ê°€ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ **`Props`**ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” **`Props drilling`** ì„ í”¼í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ì „ì—­ì ìœ¼ë¡œ ê´€ë¦¬ë˜ëŠ” ë°ì´í„°ë¥¼ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ ê³ ì•ˆë¨

**ì‚¬ìš© ë°©ë²•**

```jsx
import { createContext } from 'react';

const MyContext = React.createContext('ê¸°ë³¸ ê°’');

const MyParentComponent = () => {
	const parentValue = 'Hello Context API';
	
	return (
		<MyContext.Provider value={parentValue}>
			<MyChildComponent />
		</MyContext.Provider>
	)
}

const MyChildComponent= () => {

	return (
	 <MyContext.Consumer>
      {value => (
        <div>{value}</div>
      )}
    </MyContext.Consumer>
	)
}
```

- **`createContext`** ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ê´€ë¦¬í•  ë°ì´í„°ë¥¼ ë‹´ì„ **`Context`**ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
- ìƒì„±ëœ **`Context`** ê°ì²´ ë‚´ë¶€ì—ëŠ” **`Provider`** ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìˆëŠ”ë°, ë¦¬ì•¡íŠ¸ëŠ”  ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ëŠ” ê°€ì¥ ê°€ê¹Œìš´ **`Provider`**ë¥¼ ì°¾ì•„ **ê°’**ì„ ì½ì–´ì˜¨ë‹¤. ì´  ë•Œ **`defaultValue`** ë§¤ê°œë³€ìˆ˜ëŠ” íŠ¸ë¦¬ ì•ˆì—ì„œ ì ì ˆí•œ **`Provider`**ë¥¼ ì°¾ì§€ ëª»í–ˆì„ ê²½ìš° ì“°ì´ëŠ” ê°’ì´ë‹¤.
- **`Provider`** ëŠ” **`value`** propì„ ë°›ì•„ì„œ **`context`**ë¥¼ êµ¬ë…í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì—ê²Œ **`context`**ì˜ ë³€í™”ë¥¼ ì•Œë¦°ë‹¤. ì´ ë•Œ **`Provider`** í•˜ìœ„ì—ì„œ **`context`**ë¥¼ êµ¬ë…í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” **`Provider`**ì˜Â **`value`**Â propê°€ ë°”ë€” ë•Œë§ˆë‹¤ ë‹¤ì‹œ ë Œë”ë§ ëœë‹¤.
- **`Context`** ê°ì²´ ë‚´ë¶€ì— ì¡´ì¬í•˜ëŠ” **`Consumer`** ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ **`Context`**ì˜ ê°’ì„ êµ¬ë…í•  ìˆ˜ ìˆë‹¤.

**useContext ë€ ?**

í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ **`Context`** ê°ì²´ì—ì„œ ë°˜í™˜ëœ **`value`**ë¥¼ í¸ë¦¬í•˜ê²Œ ì½ì„ ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” **`hook`** ì´ë‹¤.

**ì‚¬ìš© ë°©ë²•**

```jsx
import{ createContext, useContext } from 'react';

const MyContext = createContext('ê¸°ë³¸ ê°’');

const MyParentComponent = () => {
	const parentValue = 'Hello Context API';
	
	return (
		<MyContext.Provider value={parentValue}>
			<MyChildComponent />
		</MyContext.Provider>
	)
}

const MyChildComponent= () => {
	const value = useContext(MyContext);
	return <div>{value}</div>
}
```

**ì£¼ì˜ ì‚¬í•­**

**`useContext`**ë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„±ì´ ë–¨ì–´ì§„ë‹¤. í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ëŠ” **`Provider`**ì— ì˜ì¡´ì„±ì„ ê°–ê³ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ë”°ë¼ì„œ **`context`**ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ê°€ ë‹¨ì§€ **`prop drilling`**ì„ í”¼í•˜ê¸° ìœ„í•´ì„œë¼ë©´ **`component composition`** ì„ ì¶”ì²œí•œë‹¤.

### useReducer

**useReducer ë€ ?**

**`useState`**ì™€ ë™ì¼í•˜ê²Œ ìƒíƒœë¥¼ ê´€ë¦¬í•´ì£¼ëŠ” í›…ì´ë‹¤. ë³µì¡í•œ ìƒíƒœ ìƒíƒœë³€í™” ë¡œì§ì„ ê°€ì§€ê±°ë‚˜, ì „ì—­ ìƒíƒœ ê´€ë¦¬ê°€ í•„ìš”í•  ê²½ìš° **`useState`**ë¡œ ê´€ë¦¬í•˜ê¸°ê°€ ì–´ë µê¸° ë•Œë¬¸ì— **`useReducer`**ë¥¼ ì‚¬ìš©í•œë‹¤.

**ì‚¬ìš© ë°©ë²•**

```jsx
import { useReducer } from 'react';

const initialState = 0;

const reducer = (state, action) => {
  switch (action.type) {
    case 'plus':
      return state + 1;
    case 'minus':
      return state - 1;
    default:
      return state;
  }
};

const MyComponent = () => {
  const [state, dispatch] = useReducer(reducer, initialState);

  return (
    <>
      <div>{state}</div>
      <button onClick={() => { dispatch({ type: 'plus' })}}>ì¦ê°€</button>
      <button onClick={() => { dispatch({ type: 'minis' })}}>ê°ì†Œ</button>
    </>
  );
};

```

- **`useReducer`** : **`reducer`**ì™€ `**initialState**` ì´ˆê¸°ìƒíƒœê°’ì„ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ê³  **`state`**ì™€ **`dispatch`**í•¨ìˆ˜ë¥¼ ê°€ì§€ëŠ” ë°°ì—´ì„ ë°˜í™˜
- **`dispatch`** : **`action`**ì„ ë°œìƒì‹œí‚¤ëŠ” í•¨ìˆ˜. ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ì •ë³´ë¥¼ ì „ë‹¬í•œë‹¤.
- **`reducer`** : **`state`**ì™€ **`action`**ì„ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ì•„ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•´ì£¼ëŠ” í•¨ìˆ˜.
- **`state`** : **`reducer`**ë¡œ ê´€ë¦¬ë˜ê³  ìˆëŠ” ìƒíƒœ ê°’ìœ¼ë¡œ **`action`**ìœ¼ë¡œë§Œ ì—…ë°ì´íŠ¸ê°€ ê°€ëŠ¥í•˜ë‹¤.
- `**action**` : ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ì •ë³´ë¥¼ ê°–ê³ ìˆëŠ” ê°ì²´

## ë¯¸ë¦¼

## 4. useContext

### useContext í›… ì‚¬ìš©ë²•

```jsx
const value = useContext(SomeContext);
```

- **ê°œë…**
    - ì»´í¬ë„ŒíŠ¸ì—ì„œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì½ê³  êµ¬ë…í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” í›…
    - ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ì „ì²´ì— ì „ì—­ì ì¸ ë°ì´í„°ë¥¼ ì œê³µí•  ìˆ˜ ìˆê²Œ í•¨
    - ë‹¤ìŒ ì´ìœ ë¡œ ê¼­ í•„ìš”í• ë•Œë§Œ ìµœì í™”í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ìŒ
        - [ì»¨í…ìŠ¤íŠ¸ API](https://ko.legacy.reactjs.org/docs/context.html#api)ë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì´ ì–´ë ¤ì›Œì§
        - **ì»¨í…ìŠ¤íŠ¸ë¥¼ êµ¬ë…í•œ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” Providerì˜ `value`ê°€ ë°”ë€” ë•Œë§ˆë‹¤ ë¦¬ë Œë”ë§ë¨**
- **íŒŒë¼ë¯¸í„°**
    - `SomeContext`: `createContext`ë¡œ ìƒì„±í•œ ì»¨í…ìŠ¤íŠ¸
- **ë°˜í™˜ê°’**
    - `value`
        - ê°€ì¥ ê°€ê¹Œìš´ ìƒìœ„ `SomeContext.Provider`ì— ì „ë‹¬ëœ `value`
        - Provider ì»´í¬ë„ŒíŠ¸ë¡œ ê°ì‹¸ì§€ ì•Šì€ ê²½ìš°, `createContext`ì‹œ ì¸ìë¡œ ì „ë‹¬í•œ ì´ˆê¹ƒê°’
- **ì‚¬ìš© ì˜ˆì‹œ**
    
    ```jsx
    /* Theme ìƒíƒœ ì „ì—­ ê´€ë¦¬ ì˜ˆì‹œ */
    // App.js
    const ThemeContext = createContext('light');
    
    function App() {
      const [theme, setTheme] = useState('light');
      return (
        <ThemeContext.Provider value={{ theme, setTheme }}>
          <Page />
        </ThemeContext.Provider>
      );
    }
    
    // Providerë¡œ ê°ì‹¼ Page ì»´í¬ë„ŒíŠ¸ ì•ˆ ì–´ë”˜ê°€ì— ìˆëŠ” ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
    // ThemeButton.js
    function ThemeButton() {
      const { theme, setTheme } = useContext(ThemeContext);
      return (
        <button
          style={{
            backgroundColor: theme === 'dark' ? 'black' : 'white',
            color: theme === 'dark' ? 'white' : 'black',
          }}
          onClick={() => {
            setTheme(theme === 'dark' ? 'light' : 'dark');
          }}
        >
          Toggle theme
        </button>
      );
    }
    ```
    

## 5. useReducer

### useReducer í›… ì‚¬ìš©ë²•

```jsx
const [state, dispatch] = useReducer(reducer, initialArg, init?)
```

- **ê°œë…**
    - Reducerë¥¼ í™œìš©í•´ ì£¼ë¡œ ë³µì¡í•œ êµ¬ì¡°ì˜ ìƒíƒœë¥¼ ìƒì„± ë° ê´€ë¦¬í•˜ê¸° ìœ„í•œ í›…
        - ì—…ë°ì´íŠ¸ ë¡œì§ì„ ë‹¨ê³„ì— ë”°ë¼ ë¶„ë¦¬ë˜ì–´ êµ¬í˜„í•˜ë¯€ë¡œ, ìƒíƒœ ì¶”ì ì— ìš©ì´í•¨
        - ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì•„ë‹Œ reducerì—ì„œ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬ ê°€ëŠ¥
    - **Reducer**: Actionì— ë”°ë¥¸ ë‹¤ìŒ ìƒíƒœë¥¼ ì •ì˜í•´ë†“ì€ **ë§¤ë‰´ì–¼ ë¶**
    - **Dispatch**: Actionì„ Reducerì— ì „ë‹¬í•´ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” **ì£¼ì²´**
    - **Action**: ìˆ˜í–‰í•  í–‰ìœ„
- **íŒŒë¼ë¯¸í„°**
    - `reducer`: `state`, `action`ì„ ë°›ê³ , `action`ì— ë”°ë¥¸ ë‹¤ìŒ `state`ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
    - `initialArg`: ìƒíƒœ ì´ˆê¹ƒê°’
    - `init?`: ìƒíƒœ ì´ˆê¸°í™” í•¨ìˆ˜
- **ë°˜í™˜ê°’**
    - `[state, dispatch]`
        - `state`: í˜„ì¬ ìƒíƒœ
        - `dispatch`: `action`ì„ ë°›ì•„ ìƒíƒœ ê°’ì„ ë³€ê²½í•˜ê³ , **ë¦¬ë Œë”ë§ì„ íŠ¸ë¦¬ê±°**í•˜ëŠ” í•¨ìˆ˜
- **ì£¼ì˜í•  ì **
    - `reducer`ëŠ” ë°˜ë“œì‹œ **ìˆœìˆ˜í•¨ìˆ˜**ì—¬ì•¼ í•¨
    - `reducer`ëŠ” ì¼ë°˜ì ì¸ ì»¨ë²¤ì…˜ì— ë”°ë¥´ë©´ `switch`ë¬¸ì„ í™œìš©í•´ `action`ì„ ë¶„ê¸°í•¨
    - `action`ì€ ëª¨ë“  ìë£Œí˜•ì´ ë  ìˆ˜ ìˆì§€ë§Œ, ì¼ë°˜ì ì¸ ì»¨ë²¤ì…˜ì€ ê°ì²´ì„
        - actionì„ ì •ì˜í•˜ëŠ” `type` í”„ë¡œí¼í‹° + ê¸°íƒ€ í”„ë¡œí¼í‹°ë¡œ ì´ë£¨ì–´ì§„ ê°ì²´
    - ê° `action`ì€ ë‹¨ì¼ ì‚¬ìš©ì ìƒí˜¸ì‘ìš©ì„ ì„¤ëª…í•´ì•¼ í•¨
        - ì˜ˆë¥¼ ë“¤ì–´ formì— ìˆëŠ” Nê°œì˜ fieldë¥¼ resetí•´ì•¼ í•œë‹¤ê³  í•  ë•Œ, ê° fieldë¥¼ resetí•˜ëŠ” Nê°œì˜ actionì„ ë³´ë‚´ì§€ ë§ê³ , â€˜reset_allâ€™ì´ë¼ëŠ” í•˜ë‚˜ì˜ actionì„ ë³´ë‚´ë¼ëŠ” ëœ»
- **ì‚¬ìš© ì˜ˆì‹œ**
    - ì¼ë°˜ì ì¸ ê°„ë‹¨í•œ ì˜ˆì œ
        
        ```jsx
        // âœ…ì¼ë°˜ì ì¸ ê°„ë‹¨í•œ ì˜ˆì œ
        function reducer(state, action) {
          switch (action.type) {
        		case 'changed_name': {
        	    return {
        	      name: action.nextName
        	    };
        	  }
            default: {
              throw Error('Unknown action: ' + action.type);
            }
        	}
        }
        
        function NameField() {
          const [state, dispatch] = useReducer(reducer, { name: '' });
        
        	const handleInputChange = (e) => {
        		dispatch({
        			type: 'changed_name',
        			nextName: e.target.value
        		});
        	}
        
          return (
            <input
        	    value={state.name}
        	    onChange={handleInputChange}
            />
          );
        }
        ```
        
    - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì™¸ë¶€ reducerë¡œ ë¶„ë¦¬í•˜ì—¬ ì½”ë“œ ë³µì¡ì„±ì„ ì¤„ì´ê³  ì ‘ê·¼ì„±ì„ ë†’ì¸ ì˜ˆì œ
        
        ```jsx
        // âœ…ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì™¸ë¶€ reducerë¡œ ë¶„ë¦¬í•œ ì˜ˆì œ
        // tasksReducer.js
        export default function tasksReducer(tasks, action) {
          switch (action.type) {
            case 'added': {
              return [...tasks, {
                id: action.id,
                text: action.text,
                done: false
              }];
            }
            case 'changed': {
              return tasks.map(t => {
                if (t.id === action.task.id) {
                  return action.task;
                } else {
                  return t;
                }
              });
            }
            case 'deleted': {
              return tasks.filter(t => t.id !== action.id);
            }
            default: {
              throw Error('Unknown action: ' + action.type);
            }
          }
        }
        
        // TaskApp.js
        let nextId = 3;
        const initialTasks = [
          { id: 0, text: 'Visit Kafka Museum', done: true },
          { id: 1, text: 'Watch a puppet show', done: false },
          { id: 2, text: 'Lennon Wall pic', done: false },
        ];
        
        function TaskApp() {
          const [tasks, dispatch] = useReducer(
            tasksReducer,
            initialTasks
          );
        
          function handleAddTask(text) {
            dispatch({
              type: 'added',
              id: nextId++,
              text: text,
            });
          }
        
          function handleChangeTask(task) {
            dispatch({
              type: 'changed',
              task: task
            });
          }
        
          function handleDeleteTask(taskId) {
            dispatch({
              type: 'deleted',
              id: taskId
            });
          }
        
          return (
            <>
              <AddTask onAddTask={handleAddTask} />
              <TaskList
                tasks={tasks}
                onChangeTask={handleChangeTask}
                onDeleteTask={handleDeleteTask}
              />
            </>
          );
        }
        ```
        
    - ì´ˆê°„ë‹¨ í† ê¸€ êµ¬í˜„ ì˜ˆì œ
        
        ```jsx
        // âœ…í† ê¸€ ì˜ˆì œ. useStateë¥¼ ì‚¬ìš©í•œ í† ê¸€ë³´ë‹¤ ê°„ëµí•˜ê³  í¸í•¨
        const [value, toggleValue] = React.useReducer((prev) => !prev, true);
        <button onClick={toggleValue}>Toggle</button>
        ```
        

### useStateì™€ useReducer ë¹„êµ

|  | useState | useReducer |
| --- | --- | --- |
| ì½”ë“œ í¬ê¸° | ì ìŒ | ë¹„êµì  ë§ìŒ |
| ìƒíƒœ í¬ê¸° | ê°„ë‹¨í•œ ìƒíƒœ ê´€ë¦¬ì— ì í•© | ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬ì— ì í•© |
| ë””ë²„ê¹… | ì™œ, ì–´ë””ì„œ stateê°€ ì˜ëª» ì„¤ì •ëëŠ”ì§€ ì°¾ê¸° ì–´ë ¤ì›€ | reducerì— ì§ì ‘ ì½˜ì†” ë¡œê·¸ë¥¼ ì‚½ì…í•´ ë²„ê·¸ ë°œìƒ ì§€ì ì„ íŒŒì•… ê°€ëŠ¥ but ë§ì€ ì½”ë“œë¥¼ ë‹¨ê³„ë³„ë¡œ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ì–´ë ¤ì›€ |
| í…ŒìŠ¤íŒ… |  | reducerê°€ ìˆœìˆ˜í•˜ë¯€ë¡œ ë…ë¦½ì ìœ¼ë¡œ ë¶„ë¦¬í•˜ê±°ë‚˜ í…ŒìŠ¤íŒ…í•˜ê¸° ì¢‹ìŒ |

## ì •ìš±

## 4. useContext

### Context

ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ì •ë³´ë¥¼ ì „ë‹¬í•  ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ `props`ë¥¼ í†µí•´ ì œê³µí•˜ì§€ë§Œ, ì¤‘ê°„ì— ë§ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ê±°ì³ì•¼ í•˜ê±°ë‚˜ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ë™ì¼í•œ ì •ë³´ë¥¼ í•„ìš”ë¡œ í•  ê²½ìš° `props`ë¥¼ ì‚¬ìš©í•˜ë©´ ë„ˆë¬´ ì½”ë“œê°€ ì¥í™©í•´ì§€ê³  ì‚¬ìš©í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤. íŠ¹íˆ ë°ì´í„°ë¥¼ ì†Œìœ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ê±°ë¦¬ê°€ ë©€ì–´ì§€ëŠ” ê²½ìš°ë¥¼ `props drilling`ì´ë¼ê³  í•œë‹¤. Contextë¥¼ ì´ìš©í•˜ë©´ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ì „ì²´ì— ë°ì´í„°ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.

- ContextëŠ” ìƒíƒœ ê´€ë¦¬ ë°©ì‹ì´ë¼ê¸°ë³´ë‹¤, â€˜ì˜ì¡´ì„± ì£¼ì…â€™ì„ ìœ„í•œ ë„êµ¬ë¡œ ì´í•´í•˜ëŠ” í¸ì´ ë” ì˜¬ë°”ë¥´ë‹¤.

### `createContext`

ì»´í¬ë„ŒíŠ¸ê°€ ì œê³µí•˜ê±°ë‚˜ ì½ì„ ìˆ˜ ìˆëŠ” Context ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. ì»´í¬ë„ŒíŠ¸ì—ì„œ Contextë¥¼ ì½ìœ¼ë ¤ í•  ë•Œ, ìƒìœ„ì— í•´ë‹¹ Context ê°ì²´ì˜ `Provider`ê°€ ì—†ì„ ê²½ìš° ì‚¬ìš©í•˜ëŠ” ê°’ì¸ `defaultValue`ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ëŠ”ë‹¤. í•´ë‹¹ í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” Context ê°ì²´ëŠ” ê·¸ ìì²´ë¡œ ê°’ì„ ê°€ì§€ì§€ ì•Šìœ¼ë©°, í•´ë‹¹ ê°ì²´ì˜ í”„ë¡œí¼í‹°ì¸ `Provider`ì—ë‹¤ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•  ê°’ì„ ì œê³µí•œ ë‹¤ìŒ `useContext` hook ë˜ëŠ” í•´ë‹¹ ê°ì²´ì˜ ë˜ë‹¤ë¥¸ í”„ë¡œí¼í‹°ì¸ `Consumer`ë¥¼ í†µí•´ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

### `useContext`

`useContext` hookì€ ì»´í¬ë„ŒíŠ¸ì—ì„œ Context ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” hookì´ë‹¤. Contextë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„, `useContext`ë¥¼ ì‚¬ìš©ì¤‘ì¸ ì»´í¬ë„ŒíŠ¸ ìƒìœ„ì— ìœ„ì¹˜í•œ í•´ë‹¹ Context ê°ì²´ì˜ `Provider`ì— ì œê³µëœ ê°’ì„ ë°˜í™˜í•œë‹¤. ì´ ë•Œ, ë°˜í™˜ë˜ëŠ” ê°’ì€ ì»´í¬ë„ŒíŠ¸ ìƒìœ„ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ Context `Provider`ì— ì œê³µëœ ê°’ì´ë‹¤. í•´ë‹¹ `Provider`ì— ì œê³µëœ ê°’ì´ ë°”ë€” ê²½ìš° í•´ë‹¹ ë³€ê²½ì„ ê°ì§€í•˜ì—¬ `Provider` ì•„ë˜ì˜ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§í•œë‹¤.

## 5. useReducer

### Reducer

ì—¬ëŸ¬ ê°œì˜ ìƒíƒœê°€ ì—¬ëŸ¬ ê°€ì§€ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ í†µí•´ ë³€ê²½ë˜ëŠ” ê²½ìš° ì½”ë“œê°€ ë§¤ìš° ë³µì¡í•´ì§ˆ ìˆ˜ ìˆëŠ”ë°, ìƒíƒœë¥¼ ë³€ê²½ì‹œí‚¤ëŠ” ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì˜ ë‹¨ì¼ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•´ë‚¼ ìˆ˜ ìˆë‹¤. ì´ ë•Œ, ë¶„ë¦¬í•´ë‚¸ í•¨ìˆ˜ë¥¼ `reducer`ë¼ê³  ë¶€ë¥¸ë‹¤. `reducer`ëŠ” ì´ì „ ìƒíƒœì™€ ì‚¬ìš©ìê°€ ì·¨í•œ Actionì„ ì…ë ¥ìœ¼ë¡œ ë°›ì•„, ë‹¤ìŒ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê°œë… ì¤‘ í•˜ë‚˜ì¸ `reduce`ëŠ” ì—¬ëŸ¬ ê°œì˜ ê°’ì„ ë‚˜íƒ€ë‚´ëŠ” ìë£Œ êµ¬ì¡°ì™€ í•´ë‹¹ ìë£Œêµ¬ì¡°ì˜ ê° ìš”ì†Œì— ì ìš©í•  í•¨ìˆ˜ `reducer`ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„, ë‹¨ì¼ ê°’ì„ ë°˜í™˜í•˜ëŠ” ê³ ì°¨ í•¨ìˆ˜ì´ë‹¤. ì´ëŸ¬í•œ í˜•íƒœì™€ ë§ˆì°¬ê°€ì§€ë¡œ, (ì‹œê°„ì— ë”°ë¼ ìƒê¸¸) ì—¬ëŸ¬ ê°œì˜ ìƒíƒœ ê°±ì‹ ê³¼ ê°ê°ì˜ ìƒíƒœ ê°±ì‹  ì •ë³´ë“¤ì— ëŒ€í•´ ì ìš©í•  í•¨ìˆ˜ `reducer`ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ì„œ ë‹¨ì¼í•œ ë‹¤ìŒ ìƒíƒœë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ì´ë¦„ì´ ë¶™ì—ˆë‹¤.

### `useReducer`

`useReducer` hookì€ `reducer` í•¨ìˆ˜, ì´ˆê¸° ìƒíƒœ, (ì„ íƒì ìœ¼ë¡œ) ì´ˆê¸° ìƒíƒœë¥¼ ë°˜í™˜í•  `init` í•¨ìˆ˜ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìœ¼ë©° ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ `state` ê°ì²´ì™€, `state`ë¥¼ ê°±ì‹ í•˜ê³  ë¦¬ë Œë”ë§ì„ ì¼ìœ¼í‚¤ëŠ” `dispatch` í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.

`useReducer`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒíƒœë¥¼ ê´€ë¦¬í•  ê²½ìš°, ìƒíƒœ ë³€ê²½ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆì–´ ì»´í¬ë„ŒíŠ¸ì— UI í˜•íƒœë¥¼ ì •ì˜í•˜ëŠ” ì½”ë“œë§Œì„ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ëœë‹¤. ì´ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ì˜ ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìœ¼ë©°, `reducer` í•¨ìˆ˜ë§Œ ì‚´í´ë³´ë©° ìƒíƒœ ë³€ê²½ ë¡œì§ì„ í™•ì¸í•  ìˆ˜ ìˆê³ ,  `reducer` í•¨ìˆ˜ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë§Œì„ ì‘ì„±í•˜ì—¬ ìƒíƒœ ë³€ê²½ ë¡œì§ì„ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.

- [reducerë¥¼ ì‘ì„±í•œ ì‹¤ì œ ì˜ˆì‹œ](https://github.com/Kernel360/f1-Yigil/blob/develop/frontend/src/context/travel/spot/reducer.ts)
- [reducer í•¨ìˆ˜ë§Œì„ í…ŒìŠ¤íŠ¸í•œ ì‹¤ì œ ì˜ˆì‹œ](https://github.com/Kernel360/f1-Yigil/blob/develop/frontend/__tests__/SpotReducer.test.ts)

í•´ë‹¹ ì½”ë“œì—ì„œ ì‹¤ì œë¡œ ë¬´ì–¸ê°€ë¥¼ ë Œë”ë§í•˜ëŠ” ì½”ë“œëŠ” ì—†ìœ¼ë©°, ë•ë¶„ì— ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤.

## ì˜ì€
## 4. useContext

ì „ì—­ ìƒíƒœë¥¼ ì»´í¬ë„ŒíŠ¸ ê°„ì— ê³µìœ í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” í›…

- ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒì„±í•œ ê°’ì´ë‚˜ ìƒíƒœë¥¼ ìì‹ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ì „ë‹¬í•˜ëŠ” ê²ƒ
- í”„ë¡­ìŠ¤ ë“œë¦´ë§ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.

**ì•Œì•„ì•¼ í•  ê¸°ë³¸ê°œë…**

- Context: ê³µìœ ë˜ì–´ì•¼ í•˜ëŠ” ë°ì´í„°
- Provider: Contextê°’ì„ ì„¤ì •í•˜ê³  í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•˜ëŠ” ì—­í• 
- consumer: Contextê°’ì„ ì½ëŠ” ì»´í¬ë„ŒíŠ¸. useContextí›…ì„ ì‚¬ìš©í•´ ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

**ì‚¬ìš©ë²•**

- createContext í•¨ìˆ˜ë¡œ ìƒˆë¡œìš´ Contextë¥¼ ìƒì„±
- Providerë¡œ ê°ì‹¸ì„œ ê°’ì„ ì œê³µ
- useContext í›…ì„ ì‚¬ìš©í•˜ì—¬ Contextì˜ ê°’ì„ ì‚¬ìš©

```jsx
import React from 'react';

const MyContext = React.createContext();

export const MyProvider = ({ children }) => {
  const [state, setState] = React.useState(initialState);

  return (
    <MyContext.Provider value={{ state, setState }}>
      {children}
    </MyContext.Provider>
  );
};
```

```jsx
import React from 'react';
import { useMyContext } from './MyContext';
const MyComponent = () => {
const { state, setState } = useMyContext();

const handleClick = () => {
setState(newState);
};

	return (
		<div>
			<p>State: {state}</p>
			<button onClick={handleClick}>Update State</button>
		</div>
	);
};

export default MyComponent;
```

**ì¥ì **

- ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ ê°„ì— ê³µìœ ë˜ëŠ” ìƒíƒœë¥¼ ê°„í¸í•˜ê²Œ ê´€ë¦¬
- prop drillingì„ ë°©ì§€í•˜ì—¬ ì½”ë“œì˜ ì¤‘ë³µì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤
- ì¬ë Œë”ë§ì„ ìµœì í™”í•˜ì—¬ íš¨ìœ¨ì ìœ¼ë¡œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸

**ì£¼ì˜í•  ì **

- ContextëŠ” ëª¨ë“  í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ê³¼ë„í•˜ê²Œ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ê²°í•©ë„ê°€ ë†’ì•„ì§ˆ ìˆ˜ ìˆë‹¤.

**ì „ì—­ ìƒíƒœ**

- Providerë¥¼ ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì œê³µí•´ ì „ì—­ ìƒíƒœ ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤.

<aside>
â“ next.js ì•±ë¼ìš°í„°ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì¸ë° ìµœìƒìœ„ layoutì„ use clientë¡œ ë°”ê¾¸ê³  contextë¥¼ ë§Œë“¤ë©´ ì•±ë¼ìš°í„°ì˜ ì˜ë¯¸ê°€ ì‚¬ë¼ì§€ëŠ”ê±° ì•„ë‹Œê°€, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ì•„ë˜ ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ì§€ ì•Šë‚˜?

â‡’ ë¼ê³  ìƒê°í–ˆëŠ”ë° ì°¾ì•„ë³´ë‹ˆ  createContextë¥¼ ì‚¬ìš©í•˜ì—¬ ë§Œë“  ì»¨í…ìŠ¤íŠ¸ì˜ í”„ë¡œë°”ì´ë”ëŠ” **í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ê°ì‹¸ëŠ” ê²ƒì´ê³ , ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ëŠ” ê²ƒì€ ì•„ë‹ˆ**ë¼ê³  í•œë‹¤!

â†’ ìƒê°í•´ë³´ë‹ˆ ë§ëŠ” ë§ì¸ê²Œ í”„ë¡­ë“œë¦´ë§ë„ ì•ˆ ì¼ì–´ë‚˜ê²Œ í•´ì£¼ëŠ” ê²ƒì´ë‹ˆ useContextí›…ì„ ì‚¬ìš©í•œ ë¶€ë¶„ë§Œ ê°ì‹¸ì§€ëŠ”ê±° ê°™ë‹¤.

</aside>

## 5. useReducer

<aside>
ğŸ’¡  Reactì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ í›…. ìƒíƒœì™€ í•¨ê»˜ **Reducer í•¨ìˆ˜**ë¥¼ ë°›ì•„ë“¤ì´ê³ , ê·¸ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ” dispatch í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.

</aside>

> **Reducerë€?**
ReducerëŠ” ì´ì „ ìƒíƒœì™€ ì•¡ì…˜ì„ ë°›ì•„ì„œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜. ì´ì „ ìƒíƒœë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” **ë¶ˆë³€ì„±(Immutability)**ì„ ì§€í‚¤ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë³´í†µ ReducerëŠ” switchë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì•¡ì…˜ ìœ í˜•ì— ë”°ë¼ ë‹¤ë¥¸ ë™ì‘ì„ ìˆ˜í–‰.
> 

```jsx
const [state, dispatch] = useReducer(reducer, initialState);
```

- **`state`**: í˜„ì¬ ìƒíƒœ
- **`dispatch`**: ì•¡ì…˜ì„ ë°œìƒì‹œí‚¤ëŠ” í•¨ìˆ˜ â‡’ Reducerì— ì•¡ì…˜ì„ ë³´ë‚´ì–´ ìƒíƒœë¥¼ ë³€ê²½
- **`reducer`**: ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜
- **`initialState`**: ì´ˆê¸° ìƒíƒœ

**useReducer vs useState (ì—°ê´€ ì§ˆë¬¸ì— ë§ì´ ìˆê¸¸ë˜)**

|  | useState | useReducer |
| --- | --- | --- |
| ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬ | ë‹¨ìˆœí•œ ìƒíƒœ ê´€ë¦¬ì— ì í•© | ë³µì¡í•œ ìƒíƒœ ë¡œì§ì— ì í•© |
| ë‹¤ì¤‘ ê°’ ê´€ë¦¬ | ë‹¨ì¼ ê°’ë§Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ | ì—¬ëŸ¬ ê°’ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ |
| ë Œë”ë§ ì„±ëŠ¥ | ë‹¨ìˆœí•œ ìƒíƒœ ì—…ë°ì´íŠ¸ì— ì í•© | ë³µì¡í•œ ìƒíƒœ ì—…ë°ì´íŠ¸ì— ì í•© |
| ì§€ì—°ëœ ì´ˆê¸°í™” | ì´ˆê¸° ìƒíƒœë¥¼ í•¨ìˆ˜ë¡œ ì§€ì • ê°€ëŠ¥ | ì´ˆê¸° ìƒíƒœë¥¼ Reducerë¡œ ì§€ì • ê°€ëŠ¥ |

**useEffectì™€ì˜ ì‚¬ìš©**

**`useReducer`**ì™€ **`useEffect`**ë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´,  dispatchë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ìƒíƒœ ë³€ê²½ì— ëŒ€í•œ ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

**useEffectì™€ ì‚¬ìš©ì‹œ ì£¼ì˜ í•  ì **

- **`useEffect`** ë‚´ì—ì„œ **`dispatch`**ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ì•ˆì „
â‡’ ë Œë”ë§ì´ ì™„ë£Œëœ í›„ì— ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸.
- **`useEffect`**ì˜ ì˜ì¡´ì„± ë°°ì—´ì— í•„ìš”í•œ ìƒíƒœë¥¼ ëª…ì‹œí•´ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”
â‡’ í•„ìš”í•œ ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§Œ **`useEffect`**ê°€ ì‹¤í–‰ë˜ë„ë¡ í•´ì•¼ í•¨. 
(ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ)
